{"mappings":"AAAA,SAAAA,gBAAAC,EAAAC,G,wWAAA,IAAAC,OA4BG,W,sBA5BGA,EACQC,G,wBACVC,KAAKD,KAAOA,EACZC,KAAKC,MAAQ,IACbD,KAAKE,OAAS,IACdF,KAAKG,EAAsB,GAAlBH,KAAKD,KAAKE,MAA2B,GAAbD,KAAKC,MACtCD,KAAKI,EAAIJ,KAAKD,KAAKG,OAASF,KAAKE,OACjCF,KAAKK,MAAQ,C,yBAGfC,IAAA,O,MAAA,SAAKC,GACHA,EAAQC,SAASR,KAAKG,EAAGH,KAAKI,EAAGJ,KAAKC,MAAOD,KAAKE,O,IAEpDI,IAAA,S,MAAA,WAEMN,KAAKD,KAAKU,KAAKC,QAAQ,cAAe,IAAIV,KAAKG,GAAKH,KAAKK,OACzDL,KAAKD,KAAKU,KAAKC,QAAQ,eAAgB,IAAIV,KAAKG,GAAKH,KAAKK,OAG1DL,KAAKG,EAAkB,IAAbH,KAAKC,MAAcD,KAAKG,EAAkB,IAAbH,KAAKC,MACvCD,KAAKG,EAAIH,KAAKD,KAAKE,MAAqB,GAAbD,KAAKC,QAAaD,KAAKG,EAAIH,KAAKD,KAAKE,MAAqB,GAAbD,KAAKC,M,IAExFK,IAAA,Q,MAAA,WACE,IAAMK,EAAaX,KAAKD,KAAKa,gBAC1BD,GAAYA,EAAWE,MAAMb,KAAKG,EAAiB,GAAbH,KAAKC,MAAcD,KAAKI,E,OAIlE,GAAHU,WA8BG,W,sBA9BGA,I,wBAEFd,KAAKC,MAAQ,GACbD,KAAKE,OAAS,GACdF,KAAKG,EAAI,EACTH,KAAKI,EAAI,EACTJ,KAAKK,MAAQ,GACbL,KAAKe,MAAO,C,yBAEdT,IAAA,O,MAAA,SAAKC,GACEP,KAAKe,MACRR,EAAQC,SAASR,KAAKG,EAAGH,KAAKI,EAAGJ,KAAKC,MAAOD,KAAKE,O,IAGtDI,IAAA,S,MAAA,WACON,KAAKe,OACRf,KAAKI,GAAKJ,KAAKK,OAEbL,KAAKI,GAAMJ,KAAKE,QAAQF,KAAKgB,O,IAEnCV,IAAA,Q,MAAA,SAAMH,EAAGC,GACPJ,KAAKG,EAAIA,EAAiB,GAAbH,KAAKC,MAClBD,KAAKI,EAAIA,EACTJ,KAAKe,MAAO,C,IAEdT,IAAA,Q,MAAA,WACEN,KAAKe,MAAO,C,OAIb,GAAHE,MAAA,SAAMA,I,sCAENC,KAiDG,W,sBAjDGA,EACQC,G,mCACVnB,KAAKmB,OAASA,EACdnB,KAAKC,MAAQD,KAAKmB,OAAOlB,MACzBD,KAAKE,OAASF,KAAKmB,OAAOjB,OAC1BF,KAAKS,KAAO,GACZT,KAAKoB,OAAS,IAAItB,OAAOE,MAEzBA,KAAKqB,gBAAkB,GACvBrB,KAAKsB,oBAAsB,GAC3BtB,KAAKuB,oBACLC,QAAQC,IAAIzB,KAAKqB,iBAGjBK,OAAOC,iBAAiB,WAAW,SAAAC,IACE,IAA/BC,EAAKpB,KAAKC,QAAQkB,EAAItB,MAAauB,EAAKpB,KAAKqB,KAAKF,EAAItB,KAC3C,MAAZsB,EAAItB,KAAauB,EAAKT,OAAOW,O,IAGlCL,OAAOC,iBAAiB,SAAS,SAAAC,GAC/B,IAAMI,EAAMH,EAAKpB,KAAKC,QAAQkB,EAAItB,KAC9B0B,GAAM,GAAIH,EAAKpB,KAAKwB,OAAOD,EAAK,E,4BAKxC1B,IAAA,S,MAAA,SAAOC,GACLP,KAAKoB,OAAOc,KAAK3B,GACjBP,KAAKoB,OAAOe,SACZnC,KAAKqB,gBAAgBe,SAAQ,SAAAzB,GAC3BA,EAAWwB,SACXxB,EAAWuB,KAAK3B,E,OAIpBD,IAAA,oB,MAAA,WACE,IAAK,IAAI+B,EAAI,EAAGA,EAAIrC,KAAKsB,oBAAqBe,IAC5CrC,KAAKqB,gBAAgBS,KAAK,IAAIhB,W,IAGlCR,IAAA,gB,MAAA,WACE,IAAK,IAAI+B,EAAI,EAAGA,EAAIrC,KAAKqB,gBAAgBiB,OAAQD,IAC/C,GAAIrC,KAAKqB,gBAAgBgB,GAAGtB,KAC1B,OAAOf,KAAKqB,gBAAgBgB,E,OAMjC,GAAHX,OAAOC,iBAAiB,QAAQ,WAC9B,IAAMR,EAASoB,SAASC,eAAe,WACjCC,EAAMtB,EAAOuB,WAAW,MAC9BvB,EAAOlB,MAAQ,IACfkB,EAAOjB,OAAS,IAEhB,IAAMH,EAAO,IAAImB,KAAKC,IAEtB,SAASwB,IACPF,EAAIG,UAAU,EAAG,EAAGzB,EAAOlB,MAAOkB,EAAOjB,QACzCH,EAAK8C,OAAOJ,GACZK,sBAAsBH,E,CAGxBA,E","sources":["src/index.js"],"sourcesContent":["class Player {\n  constructor(game) {\n    this.game = game;\n    this.width = 100;\n    this.height = 100;\n    this.x = this.game.width * 0.5 - this.width * 0.5;\n    this.y = this.game.height - this.height;\n    this.speed = 5;\n  }\n\n  draw(context) {\n    context.fillRect(this.x, this.y, this.width, this.height);\n  }\n  update() {\n    //horizontal movement\n    if (this.game.keys.indexOf('ArrowLeft') > -1) this.x -= this.speed;\n    if (this.game.keys.indexOf('ArrowRight') > -1) this.x += this.speed;\n\n    //horizontal boundaries\n    if (this.x < -this.width * 0.5 ) this.x = -this.width * 0.5;\n    else if (this.x > this.game.width - this.width * 0.5) this.x = this.game.width - this.width * 0.5;\n  }\n  shoot() {\n    const projectile = this.game.getProjectile()\n    if(projectile) projectile.start(this.x + this.width * 0.5 , this.y);\n  }\n}\n\nclass Projectile {\n  constructor() { \n    this.width = 30;\n    this.height = 20;\n    this.x = 0;\n    this.y = 0;\n    this.speed = 20;\n    this.free = true;\n  }\n  draw(context) {\n    if (!this.free) {\n      context.fillRect(this.x, this.y, this.width, this.height);\n    }\n  }\n  update() {\n    if (!this.free) {\n      this.y -= this.speed\n    }\n    if (this.y < - this.height) this.reset();\n  }\n  start(x, y) {\n    this.x = x - this.width * 0.5;\n    this.y = y;\n    this.free = false;\n  }\n  reset() {\n    this.free = true;\n  }\n}\n\nclass Enemy {}\n\nclass Game {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.keys = [];\n    this.player = new Player(this);\n\n    this.projectilesPool = [];\n    this.numberOfProjectiles = 10;\n    this.createProjectiles();\n    console.log(this.projectilesPool);\n\n    //Event listener\n    window.addEventListener('keydown', evt => {\n      if (this.keys.indexOf(evt.key) === -1) this.keys.push(evt.key);\n      if(evt.key === '1') this.player.shoot()\n    });\n\n    window.addEventListener('keyup', evt => {\n      const idx = this.keys.indexOf(evt.key);\n      if (idx > -1) this.keys.splice(idx, 1);\n    });\n\n  }\n\n  render(context) {\n    this.player.draw(context);\n    this.player.update();\n    this.projectilesPool.forEach(projectile => {\n      projectile.update();\n      projectile.draw(context);\n    })\n  }\n  // створення здарядів \n  createProjectiles() {\n    for (let i = 0; i < this.numberOfProjectiles; i++) {\n      this.projectilesPool.push(new Projectile());\n    }\n  }\n  getProjectile() {\n    for (let i = 0; i < this.projectilesPool.length; i++){\n      if (this.projectilesPool[i].free) {\n        return this.projectilesPool[i];\n      }\n    }\n  }\n}\n\nwindow.addEventListener('load', function () {\n  const canvas = document.getElementById('canvas1');\n  const ctx = canvas.getContext('2d');\n  canvas.width = 600;\n  canvas.height = 800;\n\n  const game = new Game(canvas);\n\n  function animate() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    game.render(ctx);\n    requestAnimationFrame(animate);\n  }\n\n  animate();\n});\n"],"names":["_classCallCheck","instance","Constructor","Player","game","this","width","height","x","y","speed","key","context","fillRect","keys","indexOf","projectile","getProjectile","start","Projectile","free","reset","Enemy","Game","canvas","player","projectilesPool","numberOfProjectiles","createProjectiles","console","log","window","addEventListener","evt","_this","push","shoot","idx","splice","draw","update","forEach","i","length","document","getElementById","ctx","getContext","animate","clearRect","render","requestAnimationFrame"],"version":3,"file":"index.ce19f75f.js.map"}