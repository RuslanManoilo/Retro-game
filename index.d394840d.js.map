{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/player.js","<<jsx-config-pragma.js>>","src/js/projectile.js","src/js/enemy.js","src/js/wave.js","src/js/game.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","export class Player {\n  constructor(game) {\n    this.game = game;\n    this.width = 100;\n    this.height = 100;\n    this.x = this.game.width * 0.5 - this.width * 0.5;\n    this.y = this.game.height - this.height;\n    this.speed = 5;\n  }\n\n  draw(context) {\n    context.fillRect(this.x, this.y, this.width, this.height);\n  }\n\n  update() {\n    //horizontal movement\n    if (this.game.keys.indexOf('ArrowLeft') > -1) this.x -= this.speed;\n    if (this.game.keys.indexOf('ArrowRight') > -1) this.x += this.speed;\n\n    //horizontal boundaries\n    if (this.x < -this.width * 0.5) this.x = -this.width * 0.5;\n    else if (this.x > this.game.width - this.width * 0.5)\n      this.x = this.game.width - this.width * 0.5;\n  }\n\n  shoot() {\n    const projectile = this.game.getProjectile();\n    if (projectile) projectile.start(this.x + this.width * 0.5, this.y);\n  }\n}\n",null,"export class Projectile {\n  constructor() {\n    this.width = 30;\n    this.height = 20;\n    this.x = 0;\n    this.y = 0;\n    this.speed = 20;\n    this.free = true;\n  }\n\n  draw(context) {\n    if (!this.free) context.fillRect(this.x, this.y, this.width, this.height);\n  }\n\n  update() {\n    if (!this.free) this.y -= this.speed;\n    if (this.y < -this.height) this.reset();\n  }\n\n  start(x, y) {\n    this.x = x - this.width * 0.5;\n    this.y = y;\n    this.free = false;\n  }\n\n  reset() {\n    this.free = true;\n  }\n}\n","export class Enemy {\n  constructor(game, positionX, positionY) {\n    this.game = game;\n    this.width = this.game.enemySize;\n    this.height = this.game.enemySize;\n    this.x = 0;\n    this.y = 0;\n    this.positionX = positionX;\n    this.positionY = positionY;\n    this.markedForDeletion = false;\n  }\n\n  draw(context) {\n    context.strokeRect(this.x, this.y, this.width, this.height);\n  }\n\n  update(x, y) {\n    this.x = x + this.positionX;\n    this.y = y + this.positionY;\n\n    // check collisions enemies - projectiles\n    this.game.projectilesPool.forEach(projectile => {\n      if (!projectile.free && this.game.checkCollision(this, projectile)) {\n        this.markedForDeletion = true;\n        projectile.reset();\n      }\n    });\n  }\n}\n","import { Enemy } from './enemy';\n\nexport class Wave {\n  constructor(game) {\n    this.game = game;\n    this.width = this.game.columns * this.game.enemySize;\n    this.height = this.game.rows * this.game.enemySize;\n    this.x = 0;\n    this.y = -this.height;\n    this.speedX = 3;\n    this.speedY = 0;\n    this.enemies = [];\n    this.create();\n  }\n\n  render(context) {\n    if (this.y < 0) this.y += 5;\n\n    this.speedY = 0;\n    if (this.x < 0 || this.x > this.game.width - this.width) {\n      this.speedX *= -1;\n      this.speedY = this.game.enemySize;\n    }\n\n    this.x += this.speedX;\n    this.y += this.speedY;\n\n    this.enemies.forEach(enemy => {\n      enemy.update(this.x, this.y);\n      enemy.draw(context);\n    });\n\n    this.enemies = this.enemies.filter(enemy => !enemy.markedForDeletion);\n  }\n\n  create() {\n    for (let y = 0; y < this.game.rows; y++) {\n      for (let x = 0; x < this.game.columns; x++) {\n        let enemyX = x * this.game.enemySize;\n        let enemyY = y * this.game.enemySize;\n\n        this.enemies.push(new Enemy(this.game, enemyX, enemyY));\n      }\n    }\n  }\n}\n","import { Player } from './player';\nimport { Projectile } from './projectile';\nimport { Wave } from './wave';\n\nexport class Game {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.keys = [];\n    this.player = new Player(this);\n\n    this.projectilesPool = [];\n    this.numberOfProjectiles = 10;\n    this.createProjectiles();\n\n    this.columns = 5;\n    this.rows = 3;\n    this.enemySize = 60;\n\n    this.waves = [];\n    this.waves.push(new Wave(this));\n\n    //Event listener\n    window.addEventListener('keydown', evt => {\n      if (this.keys.indexOf(evt.key) === -1) this.keys.push(evt.key);\n      if (evt.key === '1') this.player.shoot();\n    });\n\n    window.addEventListener('keyup', evt => {\n      const idx = this.keys.indexOf(evt.key);\n      if (idx > -1) this.keys.splice(idx, 1);\n    });\n  }\n\n  render(context) {\n    this.player.draw(context);\n    this.player.update();\n    this.projectilesPool.forEach(projectile => {\n      projectile.update();\n      projectile.draw(context);\n    });\n\n    this.waves.forEach(wave => {\n      wave.render(context);\n    });\n  }\n\n  // створення здарядів\n  createProjectiles() {\n    for (let i = 0; i < this.numberOfProjectiles; i++) {\n      this.projectilesPool.push(new Projectile());\n    }\n  }\n\n  getProjectile() {\n    for (let i = 0; i < this.projectilesPool.length; i++) {\n      if (this.projectilesPool[i].free) {\n        return this.projectilesPool[i];\n      }\n    }\n  }\n\n  // collision detection between 2 rectangles\n  checkCollision(a, b) {\n    return (\n      a.x < b.x + b.width &&\n      a.x + a.width > b.x &&\n      a.y < b.y + b.height &&\n      a.y + a.height > b.y\n    );\n  }\n}\n","import { Game } from './js/game';\n\nwindow.addEventListener('load', function () {\n  const canvas = document.getElementById('canvas1');\n  const ctx = canvas.getContext('2d');\n  canvas.width = 600;\n  canvas.height = 800;\n  ctx.fillStyle = 'white';\n  ctx.strokeStyle = 'white';\n  ctx.lineWidth = 5;\n\n  const game = new Game(canvas);\n\n  function animate() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    game.render(ctx);\n    requestAnimationFrame(animate);\n  }\n\n  animate();\n});\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$51d3c906e753f86f$export$2616165974278734","Player","game","this","width","height","x","y","speed","context","fillRect","keys","indexOf","projectile","getProjectile","start","$6dd55becdd26ba03$export$58825bda29b44ca2","Projectile","free","reset","$77b62066d2eb3061$export$eefe978c73a9a6","Enemy","positionX","positionY","enemySize","markedForDeletion","strokeRect","projectilesPool","forEach","_this","checkCollision","$a1acc9b9adec5515$export$b8bb87b40c00c04e","Wave","columns","rows","speedX","speedY","enemies","create","enemy","update","draw","filter","enemyX","enemyY","push","$c2cc9a516250993d$export$985739bfa5723e08","Game","canvas","player","numberOfProjectiles","createProjectiles","waves","window","addEventListener","evt","shoot","idx","splice","wave","render","a","b","document","getElementById","ctx","getContext","fillStyle","strokeStyle","lineWidth","animate","clearRect","requestAnimationFrame"],"version":3,"file":"index.d394840d.js.map"}